<section class="custom-scroller">
    <div class="flex-center w-100 h-100 text-center pa20" *ngIf="mainMessage !== null">{{mainMessage}}</div>
    <div class="inner flex-wrap">
        <ng-container *ngFor="let item of inventoryList; let i = index; trackBy: trackByFn;">
            <div class="box flex-center col pb100" *ngIf="!(this.isNSFWStatus && item['NSFW'])">

                <div class="relative nft_img" *ngIf="fileTypeIsImage(item['logo_path'])">
                    <img src="{{ item['logo_path'] }}" class="img-fluid" alt="" />
                </div>

                <div class="relative nft_img" *ngIf="!fileTypeIsImage(item['logo_path'])">
                    <video class="img-fluid" loop autoplay playsinline oncanplay="this.play()" onloadedmetadata="this.muted = true">
              <source src="{{ item['logo_path'] }}" />
            </video>
                </div>

                <div class="text-center">
                    <p class="p-white-span-primary p16d14m mb30 mt20">{{ item["name"] }}</p>
                    <a (click)="setSelected(i, item)" class="view-detail-button outlined-button text-inherit">View details</a>
                </div>
            </div>
        </ng-container>

        <!------ List  -->
        <div id="attribute-info" class="outer-box" *ngIf="lootBoxDetailsAttributes[selectedIndex]">
            <div class="flex1 flex-center flex-col flex-align-start">
                <div class="relative flex-col attribute-img">
                    <img *ngIf="fileTypeIsImage(lootBoxDetailsAttributes[selectedIndex].logo_path)" src="{{ lootBoxDetailsAttributes[selectedIndex].logo_path }}" class="img-fluid mb30" alt="" />

                    <video class="img-fluid mb30" alt="" *ngIf="!fileTypeIsImage(lootBoxDetailsAttributes[selectedIndex].logo_path)" loop autoplay playsinline oncanplay="this.play()" onloadedmetadata="this.muted = true">
              <source src="{{ lootBoxDetailsAttributes[selectedIndex].logo_path }}" />
            </video>

                    <div class="input-container flex justify-space-between align-center">
                        <div class="tooltip">
                            <p class="outlined-button sell-button">Sell</p>
                            <div class="bottom">
                                <div class="row">
                                    <p>Available soon</p>
                                </div>
                            </div>
                        </div>

                        <a class="outlined-button transfer-button" (click)="openTransferDialog(lootBoxDetailsAttributes[selectedIndex])">Transfer</a>

                        <p (click)="downloadImage(lootBoxDetailsAttributes[selectedIndex])">
                            <svg xmlns="http://www.w3.org/2000/svg" class="interactable" viewBox="0 0 49 49">
                  <path d="M24.5 0C11 0 0 11 0 24.5S11 49 24.5 49 49 38 49 24.5 38 0 24.5 0zM22 20.6V9.2h5v11.4h4.8l-7.3 9.2-7.3-9.2H22zm16.7 15.6H10.3v-10h4.3v6.3h19.7v-6.3h4.3v10z" fill="#D5A642"/>
                </svg>
                        </p>

                        <p (click)="openDialog(lootBoxDetailsAttributes[selectedIndex])">
                            <svg class="interactable" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49 49">
                  <g fill="#d5a642"><path d="M30.7 17.9c1.4 0 2.6-1.2 2.6-2.6s-1.2-2.6-2.6-2.6c-1.4 0-2.6 1.2-2.6 2.6s1.1 2.6 2.6 2.6zM14.2 22c-1.4 0-2.6 1.2-2.6 2.6 0 1.4 1.2 2.6 2.6 2.6s2.6-1.2 2.6-2.6c0-1.5-1.2-2.6-2.6-2.6z"/><path d="M24.5 0C11 0 0 11 0 24.5S11 49 24.5 49 49 38 49 24.5 38 0 24.5 0zm-4.8 25.9 7 3.9c1.1-1.1 2.5-1.6 4-1.6 3.1 0 5.7 2.5 5.7 5.7 0 3.1-2.5 5.7-5.7 5.7-.4 0-.9-.1-1.3-.2-3-.7-4.9-3.8-4.2-6.8l-7-3.9c-2.2 2.2-5.8 2.2-8 0s-2.2-5.8 0-8 5.8-2.2 8 0l7-3.9c-.5-1.9.1-4 1.5-5.4 2.2-2.2 5.9-2.2 8.1 0s2.2 5.9 0 8.1-5.9 2.2-8.1 0l-7 3.9c.2.7.2 1.6 0 2.5z"/><path d="M30.7 36.4c1.4 0 2.6-1.2 2.6-2.6 0-1.4-1.2-2.6-2.6-2.6-1.4 0-2.6 1.2-2.6 2.6 0 1.4 1.1 2.6 2.6 2.6z"/></g>
                </svg>
                        </p>
                    </div>
                </div>

                <div class="flex4 ml20">
                    <div class="flex justify-space-between flex-align-start">
                        <div class="flex flex-col">
                            <p class="p-white-span-primary p16d14m mb10 mt10">
                                {{ lootBoxDetailsAttributes[j].name }}
                            </p>
                            <p class="p-white-span-primary p16d14m mb10 mt10">
                                {{ lootBoxDetailsAttributes[j].description }}
                            </p>
                            <p class="p-white-span-primary p16d14m mb30 mt10">
                                Rarity Score: {{ lootBoxDetailsAttributes[j].rarity }}
                            </p>
                        </div>
                        <div class="flex-center pointer" (click)="closeAttributes()">
                            <svg width="27" height="27" xmlns="http://www.w3.org/2000/svg"><path d="M13.98 12.814 26.353.439l.707.707-12.375 12.375 12.375 12.374-.707.707-12.375-12.374L1.605 26.602l-.707-.707 12.374-12.374L.898 1.146 1.605.44l12.374 12.375Z" fill="#d5a642"/></svg>
                        </div>
                    </div>

                    <table class="wp100">
                        <thead>
                            <tr>
                                <th class="w700">Attribute</th>
                                <th class="w700">Value</th>
                                <th>
                                    <div class="rarity-column-text w700">Rarity
                                        <div class="tooltip">
                                            <div class="row">These percentages express the given attribute rarity by evaluating the rarity of the items traits. A lower value is better.</div>
                                        </div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let propertiesData of lootBoxDetailsAttributes[selectedIndex].properties;trackBy: trackByFn;">
                                <td>{{ propertiesData.key }}</td>
                                <td>{{ propertiesData.value }}</td>
                                <td>{{ propertiesData.rarity!==undefined ? propertiesData.rarity : propertiesData.probability }}%</td>
                            </tr>
                        </tbody>
                    </table>

                    <a *ngIf="
              !lootBoxDetailsAttributes[j].disabled &&
              lootBoxDetailsAttributes[j].isRewardAvailable
            " class="buy_button outlined-button mb10 text-inherit" (click)="claimReward(lootBoxDetailsAttributes[j], $event, j)">Claim Reward</a>

                    <a class="buy_button outlined-button mb10 text-inherit" *ngIf="
              lootBoxDetailsAttributes[j].disabled &&
              lootBoxDetailsAttributes[j].isRewardAvailable
            ">
              Claim Reward
            </a>
                </div>
            </div>
        </div>
        <!----list-->
    </div>
    </div>

    <div class="mobile-only flex-col align-center justify-center h-100">
        <div class="flex1 flex-center flex-column mb30" *ngFor="let item of inventoryList; let i = index">
            <div class="relative" *ngIf="checkFileType(item.logo_path)">
                <img src="{{ item.logo_path }}" class="img-fluid" alt="" />
            </div>
            <div class="relative" *ngIf="!checkFileType(item.logo_path)">
                <video class="img-fluid" alt="" loop autoplay playsinline oncanplay="this.play()" onloadedmetadata="this.muted = true">
          <source src="{{ item.logo_path }}" />
        </video>
            </div>
            <div class="text-center">
                <p class="p-white-span-primary p16d14m mb10 mt10">{{ item.name }}</p>
                <a (click)="setSelectedMobile(i, item)" class="view-detail-button outlined-button text-inherit">View details</a>
            </div>

            <!------ List  -->
            <div id="attribute-info-mobile" class="outer-box" *ngIf="lootBoxDetailsAttributesMobile[i] !== undefined">
                <div class="
          flex1
          flex-center flex-col flex-align-start
          justify-start
          mb30
          inside-box
        ">
                    <div class="relative flex-col attribute-img">
                        <img *ngIf="checkFileType(lootBoxDetailsAttributesMobile[i].logo_path)" src="{{ lootBoxDetailsAttributesMobile[i].logo_path }}" class="img-fluid mb30" alt="" />
                        <video class="img-fluid mb30" alt="" *ngIf="
              !checkFileType(lootBoxDetailsAttributesMobile[i].logo_path)
            " loop autoplay playsinline oncanplay="this.play()" onloadedmetadata="this.muted = true">
              <source src="{{ lootBoxDetailsAttributesMobile[i].logo_path }}" />
            </video>

                        <div class="flex justify-space-between align-items-center">
                            <div class="tooltip">
                                <a class="
                  buy_button
                  outlined-button
                  mb10 mobile-sell
                  text-inherit
                  sell-button
                ">Sell</a>
                                <div class="bottom">
                                    <div class="row">
                                        <p>Available soon</p>
                                    </div>
                                    <i></i>
                                </div>
                            </div>
                            <a class="buy_button outlined-button mb10 mx-10 mobile-sell text-inherit" (click)="openTransferDialog(lootBoxDetailsAttributesMobile[i])">Transfer</a>
                            <a (click)="downloadImage(lootBoxDetailsAttributesMobile[i])">
                                <svg version="1.1" id="share_twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 49" style="enable-background:new 0 0 49 49;" xml:space="preserve">
                  <style type="text/css">
                    .st0 {
                      fill: #D5A642;
                    }

                  </style>
                  <path class="st0" d="M24.5,0C11,0,0,11,0,24.5S11,49,24.5,49S49,38,49,24.5S38,0,24.5,0z M22,20.6V9.2h5v11.4h4.8l-7.3,9.2l-7.3-9.2
                      H22z M38.7,36.2H10.3v-10h4.3v6.3h19.7v-6.3h4.3V36.2z" />
                </svg>
                            </a>
                            <a (click)="
                openDialog(lootBoxDetailsAttributesMobile[i])
              " href="javascript:void(0)">
                                <svg version="1.1" id="share_twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 49" style="enable-background: new 0 0 49 49" xml:space="preserve">
                  <style type="text/css">
                    .st0 {
                      fill: #d5a642;
                    }

                  </style>
                  <g>
                    <path class="st0"
                      d="M30.7,17.9c1.4,0,2.6-1.2,2.6-2.6s-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6S29.2,17.9,30.7,17.9z">
                    </path>
                    <path class="st0"
                      d="M14.2,22c-1.4,0-2.6,1.2-2.6,2.6c0,1.4,1.2,2.6,2.6,2.6s2.6-1.2,2.6-2.6C16.8,23.1,15.6,22,14.2,22z">
                    </path>
                    <path class="st0" d="M24.5,0C11,0,0,11,0,24.5C0,38,11,49,24.5,49S49,38,49,24.5C49,11,38,0,24.5,0z M19.7,25.9l7,3.9
              c1.1-1.1,2.5-1.6,4-1.6c3.1,0,5.7,2.5,5.7,5.7c0,3.1-2.5,5.7-5.7,5.7c-0.4,0-0.9-0.1-1.3-0.2c-3-0.7-4.9-3.8-4.2-6.8l-7-3.9
              c-2.2,2.2-5.8,2.2-8,0c-2.2-2.2-2.2-5.8,0-8c2.2-2.2,5.8-2.2,8,0l7-3.9c-0.5-1.9,0.1-4,1.5-5.4c2.2-2.2,5.9-2.2,8.1,0
              s2.2,5.9,0,8.1s-5.9,2.2-8.1,0l-7,3.9C19.9,24.1,19.9,25,19.7,25.9z"></path>
                    <path class="st0" d="M30.7,36.4c1.4,0,2.6-1.2,2.6-2.6c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6
              C28.1,35.2,29.2,36.4,30.7,36.4z"></path>
                  </g>
                </svg>
                            </a>
                        </div>
                    </div>
                    <div class="flex1"></div>
                    <div class="wp100 mt30">
                        <div class="flex justify-space-between flex-align-start">
                            <div class="flex flex-col">
                                <p class="p-white-span-primary p16d14m mb10 mt10">
                                    {{ lootBoxDetailsAttributesMobile[i].name }}
                                </p>
                                <p class="p-white-span-primary p16d14m mb10 mt10">
                                    {{ lootBoxDetailsAttributesMobile[i].description }}
                                </p>
                                <p class="p-white-span-primary p16d14m mb30 mt10">
                                    Rarity Score: {{ lootBoxDetailsAttributesMobile[i].rarity }}
                                </p>
                            </div>
                            <div class="flex-center" (click)="closeAttributes()" style="cursor: pointer">
                                <svg id="attibute_close" width="27px" height="27px" viewBox="0 0 27 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <path
                      d="M13.9791847,12.8137085 L26.3535534,0.439339828 L27.0606602,1.14644661 L14.6862915,13.5208153 L27.0606602,25.895184 L26.3535534,26.6022907 L13.9791847,14.2279221 L1.60481605,26.6022907 L0.897709268,25.895184 L13.2720779,13.5208153 L0.897709268,1.14644661 L1.60481605,0.439339828 L13.9791847,12.8137085 Z"
                      id="Combined-Shape" fill="#000000"></path>
                  </g>
                </svg>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table wp100">
                                <thead>
                                    <tr>
                                        <th class="w700">Attribute</th>
                                        <th class="w700">Value</th>
                                        <th class="w700">Rarity</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let propertiesData of lootBoxDetailsAttributesMobile[i].properties;trackBy: trackByFn;">
                                        <td>{{ propertiesData.key }}</td>
                                        <td>{{ propertiesData.value }}</td>
                                        <td>{{ propertiesData.rarity!==undefined ? propertiesData.rarity : propertiesData.probability }}%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <a *ngIf="
              !lootBoxDetailsAttributesMobile[i].disabled &&
              lootBoxDetailsAttributesMobile[i].isRewardAvailable
            " class="buy_button outlined-button mb10 text-inherit" (click)="
              claimReward(lootBoxDetailsAttributesMobile[i], $event, 0)
            ">Claim Reward</a>
                        <a class="buy_button outlined-button mb10 text-inherit" *ngIf="lootBoxDetailsAttributesMobile[i].disabled">
              Claim Reward
            </a>
                    </div>
                </div>
            </div>
            <!----list-->
        </div>
</section>